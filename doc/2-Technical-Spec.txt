Adaptive Learning - Technical Specification
Overview
Adaptive Learning is a real-time learning orchestrator that classifies learner state from signal bundles and selects the next best learning moment. The system emphasizes trend-based classification and uncertainty scoring.

System Components
Event Collector: captures performance, temporal, interaction, and metacognitive signals.

State Classifier: computes state + certainty using bundled signals across 2-3 steps.

Moment Selector: chooses the next learning moment based on state and context.

Response Renderer: presents the moment with explanation and options, interactive coach and feedback

Analytics Pipeline: aggregates session and moment metrics, and cross-subject learning objectives  for each learner profile?

Evaluation module at the back end to analyze the agents' performance for improvement.

Learner profile?

The experience assembly layer and the overall workflow control?

Data Flow
User action emits signal event.

Signals are normalized and aggregated in a sliding window.

Classifier outputs {state, certainty, reasons}.

Moment selector decides the next action and response template.

Renderer outputs the moment and records follow-up signals.

Classification Logic (Baseline)
Never classify from a single signal.

Track trends across 2-3 steps (configurable).

Provide certainty: low/medium/high.

Success (example): correct or successful action, attempts <= 2, hint_count <= 1, confidence >= 3, time-on-step in range.

Struggle (example): 2+ of incorrect, attempts >= 2, hint_count >= 2, time-on-step above expected, confidence <= 2, repeating error pattern.

Disengagement (example): skip without attempt OR exit mid-step OR idle > T_idle OR repeated deferrals.

Adaptive Response Rules
Success: acknowledge briefly, provide one transfer prompt, offer next step.

Struggle: pause progression, diagnose cause, adjust one variable (simplify, switch format, add example).

Disengagement: shorten next moment, lower load, offer graceful exit, never guilt.

Tone: Avoid being prescriptive or overwhelming

Session State Machine (Macro)
Enter SESSION_DE_RISK if 2 consecutive disengage signals OR friction_score exceeds threshold.

SESSION_CLOSE outputs capability statement, next suggested moment, optional reminder.

Interfaces (Internal)
/events ingest: event payloads for signals.

/classify: returns state + certainty + reasons.

/next-moment: returns moment type + response template., alternatives?

Configurables
Thresholds for time, attempts, hints, confidence.

Window size for trend classification.

Moment catalog and response templates.

Observability
State distribution over time.

Misclassification proxies (rapid flips, user overrides).

Recovery rate from struggle to success.

Diagnose disengagement, conversion rate from disengagement to success, correlation between disengagement and struggle?

Agent Orchestration (Backend)
1. Session Orchestrator
Purpose: session lifecycle and routing.
Model: none (rules).
Input: {session_id, user_id, request_type}
Output: {next_action, routed_request}

2. Event Collector
Purpose: validate and ingest raw learner events.
Model: none (rules).
Input: {event_id, session_id, step_id, event_type, timestamp, value, metadata}
Output: {ok, event_id}

3. Signal Normalizer
Purpose: normalize signals into a consistent schema and units.
Model: none (rules).
Input: raw events
Output: normalized signal record

4. Trend Aggregator
Purpose: aggregate signals over a sliding window (2-3 steps).
Model: none (rules).
Input: normalized signals by step
Output: aggregated summary (attempts, hints, time, confidence, disengage signals)

5. State Classifier
Purpose: classify learner state and certainty.
Model: none (rules, thresholds).
Input: aggregated summary
Output: {state, certainty, reasons}

6. Uncertainty Evaluator
Purpose: set intervention level when certainty is low.
Model: none (rules).
Input: {state, certainty, reasons}
Output: {intervention_level, rationale}

7. Moment Selector
Purpose: choose the next moment type and alternatives.
Model: rules or gpt-4o-mini for richer selection.
Input: {state, learner_profile, session_context}
Output: {moment_type, alternatives}

8. Response Composer
Purpose: compose moment copy, prompt, and explanation.
Model: gpt-4o-mini.
Input: {moment_type, explanation, tone_guidelines, learner_context}
Output: {title, prompt, choice_labels, explanation}

9. Tone and Safety Guardrail
Purpose: enforce tone rules (no guilt, minimal intervention).
Model: rules or gpt-4o-mini for rephrase.
Input: draft response
Output: safe response text

10. Learner Profile Manager
Purpose: track preferences, confidence alignment, working style.
Model: none (rules).
Input: {user_id, profile_updates}
Output: updated learner profile

11. Evaluation and Metrics Agent
Purpose: track state distribution, flips, recovery, disengagement conversions.
Model: none (rules).
Input: {state, session_id}
Output: metrics snapshot
